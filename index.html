<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1.0">
    <title>easySQL</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/alasql@1.7.2/dist/alasql.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vis-network@9.1.0/dist/vis-network.min.js"></script>
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <link rel="icon" type="image/png" href="styles/eSQL.png">
</head>
<body>
    <div class="login-overlay" id="loginOverlay">
        <div class="login-container">
            <h2>Iniciar SesiÃ³n</h2>
            <form id="loginForm" onsubmit="return handleLogin(event)">
                <div class="login-field">
                    <label for="username">Usuario</label>
                    <input type="text" id="username" required>
                </div>
                <div class="login-field">
                    <label for="password">ContraseÃ±a</label>
                    <input type="password" id="password" required>
                </div>
                <button type="submit" class="login-button">Acceder</button>
            </form>
        </div>
    </div>
    <div class="top-bar">
        <span id="datetime"></span>
        <div class="top-buttons">
            <button id="colorPickerBtn" class="top-btn">
                <img src="styles/color.png" alt="Color Theme">
            </button>
            <button class="top-btn" onclick="document.getElementById('sqlFileInput').click()">
                <img src="styles/cargarSQL.png" alt="Cargar SQL">
            </button>
            <button class="top-btn" onclick="downloadSQL()">
                <img src="styles/descargarSQL.png" alt="Descargar SQL">
            </button>
            <button class="top-btn" onclick="document.getElementById('insertionsFileInput').click()">
                <img src="styles/cargarINS.png" alt="Cargar Inserciones">
            </button>
            <button class="top-btn" onclick="downloadInsertions()">
                <img src="styles/descargarINS.png" alt="Descargar Inserciones">
            </button>
            <button id="helpBtn" class="top-btn">
                <img src="styles/eSQL.png" alt="easySQL Guide" class="header-logo">
            </button>
        </div>
        <div id="colorPickerPanel" class="color-picker-panel">
            <h2 class="settings-title">PERSONALIZACIÃ“N</h2>
            <div class="settings-section">
                <h3 class="section-title">Color de fondo</h3>
                <div class="color-slider-container">
                    <input type="range" id="colorSlider" min="0" max="100" value="100">
                    <div class="color-gradient"></div>
                </div>
                <!-- AÃ±adir switch modo oscuro -->
                <div class="switch-container" style="margin-top:1rem;">
                    <span class="switch-label">Modo oscuro</span>
                    <label class="switch">
                        <input type="checkbox" id="darkModeSwitch">
                        <span class="slider"></span>
                    </label>
                </div>
            </div>
            <div class="settings-section">
                <h3 class="section-title">Animaciones</h3>
                <div class="animation-switches">
                    <div class="switch-container">
                        <span class="switch-label">TÃ­tulo flotante</span>
                        <label class="switch">
                            <input type="checkbox" id="titleAnimation" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="switch-container">
                        <span class="switch-label">PartÃ­culas</span>
                        <label class="switch">
                            <input type="checkbox" id="particlesAnimation" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="switch-container">
                        <span class="switch-label">Fondo</span>
                        <label class="switch">
                            <input type="checkbox" id="circlesAnimation" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>
            <div id="shapesSection" class="settings-section" style="display: none;">
                <h3 class="section-title">Formas de fondo</h3>
                <div class="shapes-selector">
                    <div class="shape-options">
                        <label class="shape-option">
                            <input type="radio" name="bgShape" value="circle" checked>
                            <span class="shape-icon circle"></span>
                        </label>
                        <label class="shape-option">
                            <input type="radio" name="bgShape" value="square">
                            <span class="shape-icon square"></span>
                        </label>
                        <label class="shape-option">
                            <input type="radio" name="bgShape" value="triangle">
                            <span class="shape-icon triangle"></span>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal de Ayuda -->
    <div id="helpModal" class="help-modal">
        <div class="help-content">
            <span class="close" onclick="closeHelpModal()">&times;</span>
            <div class="help-sidebar">
                <nav class="help-navigation">
                    <ul>
                        <li><a href="#inicio">IntroducciÃ³n a SQL</a></li>
                        <li><a href="#estructuras">Estructuras y Tipos de Datos</a></li>
                        <li><a href="#inserciones2">Inserciones de Datos</a></li>
                        <li><a href="#mostrardatos">VisualizaciÃ³n de Datos</a></li>
                        <li><a href="#mostrargraficos">GrÃ¡ficos y EstadÃ­sticas</a></li>
                        <li><a href="#mostrarMapas">Mapas Interactivos</a></li>
                        <li><a href="#excelimport">ImportaciÃ³n Excel</a></li>
                        <li><a href="#enumerados">Enumerados (ENUM)</a></li>
                    </ul>
                </nav>
            </div>
            <div class="help-main">

                <!-- Modal de Ayuda -->

                <section id="inicio" class="help-section active">
                    <h2>IntroducciÃ³n a SQL</h2>
                    
                    <div class="help-block">
                        <h3>Â¿QuÃ© es SQL y por quÃ© es importante para su empresa? ğŸ¢</h3>
                        <p>SQL es una herramienta que permite gestionar la informaciÃ³n de su empresa de forma eficiente, segura y profesional. Es como tener un asistente que:</p>
                        <ul>
                            <li>Organiza toda su informaciÃ³n empresarial automÃ¡ticamente ğŸ“Š</li>
                            <li>Permite acceder a los datos de forma instantÃ¡nea âš¡</li>
                            <li>Mantiene la informaciÃ³n segura y respaldada ğŸ”’</li>
                            <li>Crece con su empresa sin perder eficiencia ğŸ“ˆ</li>
                        </ul>
                    </div>

                    <div class="help-block">
                        <h4>Caso real: Empresa de DistribuciÃ³n ğŸšš</h4>
                        <p>La empresa "Distribuciones RÃ¡pidas S.L." tenÃ­a estos problemas:</p>
                        <ul>
                            <li>âŒ 3 horas diarias perdidas buscando informaciÃ³n en Excel</li>
                            <li>âŒ Errores frecuentes en el inventario</li>
                            <li>âŒ PÃ©rdida de ventas por datos desactualizados</li>
                        </ul>
                        <p>DespuÃ©s de implementar SQL:</p>
                        <ul>
                            <li>âœ… BÃºsqueda de informaciÃ³n en segundos</li>
                            <li>âœ… Control de inventario en tiempo real</li>
                            <li>âœ… Aumento del 25% en eficiencia operativa</li>
                            <li>âœ… ROI positivo en menos de 6 meses</li>
                        </ul>
                    </div>

                    <div class="tip-block help-block">
                        <h4>Ventajas sobre Excel ğŸ“Š</h4>
                        <p>Â¿Por quÃ© las empresas estÃ¡n migrando de Excel a SQL?</p>
                        <ul>
                            <li>ğŸ’¼ <strong>Profesionalidad:</strong> EstÃ¡ndar en empresas Fortune 500</li>
                            <li>ğŸ” <strong>Seguridad:</strong> Control total sobre quiÃ©n accede a quÃ© informaciÃ³n</li>
                            <li>ğŸ“± <strong>Accesibilidad:</strong> MÃºltiples empleados pueden trabajar simultÃ¡neamente</li>
                            <li>ğŸ’ª <strong>Escalabilidad:</strong> Gestiona millones de registros sin pÃ©rdida de rendimiento</li>
                        </ul>
                    </div>

                    <div class="roi-block help-block">
                        <h4>Impacto en su Negocio ğŸ’°</h4>
                        <p>Las empresas que implementan SQL reportan:</p>
                        <ul>
                            <li>ğŸ“ˆ ReducciÃ³n del 70% en tiempo de generaciÃ³n de informes</li>
                            <li>ğŸ¯ DisminuciÃ³n del 90% en errores de datos</li>
                            <li>ğŸ’¡ Mejor toma de decisiones basada en datos precisos</li>
                            <li>ğŸš€ Ventaja competitiva en su sector</li>
                        </ul>
                    </div>

                    <div class="next-block help-block">
                        <h4>PrÃ³ximos Pasos ğŸ‘£</h4>
                        <p>No se preocupe por la complejidad tÃ©cnica. easySQL estÃ¡ diseÃ±ado para que pueda:</p>
                        <ul>
                            <li>1ï¸âƒ£ Empezar de forma gradual</li>
                            <li>2ï¸âƒ£ Ver resultados inmediatos</li>
                            <li>3ï¸âƒ£ Crecer segÃºn sus necesidades</li>
                        </ul>
                    </div>
                </section>

                <section id="estructuras" class="help-section">
                    <h2>Estructuras y Tipos de Datos</h2>

                    <div class="info-block help-block">
                        <h3>Â¿QuÃ© es una tabla? ğŸ“‹</h3>
                        <p>Imagina una tabla como una agenda de contactos en tu telÃ©fono:</p>
                        <ul>
                            <li>Cada CONTACTO es una FILA (un amigo diferente)</li>
                            <li>Cada DATO del contacto es una COLUMNA (nombre, telÃ©fono, email...)</li>
                        </ul>
                    </div>

                    <div class="example-block help-block">
                        <h4>Ejemplo Visual: Agenda de Contactos ğŸ‘¥</h4>
                        <div class="table-example">
                            <p>AsÃ­ se ve una tabla:</p>
                            <table>
                                <tr class="header-row">
                                    <th>ID (PK)</th>
                                    <th>Nombre</th>
                                    <th>TelÃ©fono</th>
                                    <th>Email</th>
                                </tr>
                                <tr>
                                    <td>1</td>
                                    <td>Ana</td>
                                    <td>555-123</td>
                                    <td>ana@email.com</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>Juan</td>
                                    <td>555-456</td>
                                    <td>null</td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <div class="concepts-block help-block">
                        <h4>Conceptos BÃ¡sicos ğŸ¯</h4>
                        
                        <div class="concept-item">
                            <h5>Â¿QuÃ© es una FILA? ğŸ“„</h5>
                            <p>Es UN registro completo. Por ejemplo:</p>
                            <p class="highlight">Ana + su telÃ©fono + su email = UNA fila completa</p>
                        </div>

                        <div class="concept-item">
                            <h5>Â¿QuÃ© es una COLUMNA? ğŸ“Š</h5>
                            <p>Es UN tipo de informaciÃ³n. Por ejemplo:</p>
                            <p class="highlight">La columna "TelÃ©fono" solo guarda nÃºmeros de telÃ©fono</p>
                        </div>

                        <div class="concept-item">
                            <h5>Â¿QuÃ© significa PK (Primary Key)? ğŸ”‘</h5>
                            <p>Es como el DNI de cada fila: un nÃºmero ÃšNICO que no se repite.</p>
                            <p class="highlight">Si tienes dos Anas, por su PK sabrÃ¡s que son diferentes</p>
                        </div>

                        <div class="concept-item">
                            <h5>Â¿QuÃ© significa NULL vs NOT NULL? â“</h5>
                            <p><strong>NULL = Puede estar vacÃ­o</strong></p>
                            <ul>
                                <li>Como Juan, que no tiene email (es NULL)</li>
                                <li>Es como dejar un espacio en blanco</li>
                            </ul>
                            <p><strong>NOT NULL = No puede estar vacÃ­o</strong></p>
                            <ul>
                                <li>Como el Nombre, que siempre debe existir</li>
                                <li>Es obligatorio rellenarlo</li>
                            </ul>
                        </div>
                    </div>
                </section>

                <section id="inserciones2" class="help-section">
                    <h2>Inserciones de Datos ğŸ“</h2>
                    
                    <div class="info-block help-block">
                        <h3>Â¿QuÃ© es una InserciÃ³n? ğŸ¯</h3>
                        <p>Una inserciÃ³n es el proceso de aÃ±adir nuevos datos a una tabla. Es como escribir una nueva entrada en un diario:</p>
                        <ul>
                            <li>Cada inserciÃ³n es un nuevo registro en la tabla</li>
                            <li>Debes respetar el tipo de dato de cada columna</li>
                            <li>La clave primaria (PK) debe ser Ãºnica para cada inserciÃ³n</li>
                        </ul>
                    </div>

                    <div class="case-block help-block">
                        <h4>Caso PrÃ¡ctico: Registro de Ventas ğŸ›ï¸</h4>
                        <p>En una tienda necesitas registrar cada venta:</p>
                        <ul>
                            <li>âœ… ID de venta (Ãºnico para cada transacciÃ³n)</li>
                            <li>âœ… Producto vendido</li>
                            <li>âœ… Cantidad</li>
                            <li>âœ… Fecha de venta</li>
                        </ul>
                    </div>

                    <div class="tip-block help-block">
                        <h4>Consejos para Insertar Datos ğŸ’¡</h4>
                        <p>Al insertar datos, recuerda:</p>
                        <ul>
                            <li>ğŸ” Verifica el tipo de dato antes de insertar</li>
                            <li>âš ï¸ Respeta las restricciones NOT NULL</li>
                            <li>ğŸ”‘ Asegura que la PK sea Ãºnica</li>
                            <li>ğŸ“‹ Puedes dejar vacÃ­os los campos opcionales</li>
                        </ul>
                    </div>

                    <div class="example-block help-block">
                        <h4>Ejemplo: Tabla de Productos</h4>
                        <div class="table-example">
                            <table>
                                <tr class="header-row">
                                    <th>ID (PK)</th>
                                    <th>Nombre</th>
                                    <th>Precio</th>
                                    <th>Stock</th>
                                </tr>
                                <tr>
                                    <td>1</td>
                                    <td>Laptop</td>
                                    <td>999.99</td>
                                    <td>10</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>Mouse</td>
                                    <td>29.99</td>
                                    <td>50</td>
                                </tr>
                            </table>
                        </div>
                    </div>

                    <div class="concepts-block help-block">
                        <h4>Tipos de InserciÃ³n en easySQL ğŸ› ï¸</h4>
                        <ul>
                            <li>âœ¨ InserciÃ³n Manual: Usando el formulario</li>
                            <li>ğŸ“Š ImportaciÃ³n Excel: Carga masiva de datos</li>
                            <li>ğŸ“ SQL Directo: Usando comandos INSERT</li>
                            <li>ğŸ“ Carga de archivo: Importando archivos SQL</li>
                        </ul>
                    </div>

                    <div class="next-block help-block">
                        <h4>Ejercicios PrÃ¡cticos ğŸ‘£</h4>
                        <p>Practica las inserciones con estos ejercicios:</p>
                        <ul>
                            <li>1ï¸âƒ£ Crea una tabla "Empleados" con campos: ID, Nombre, Salario</li>
                            <li>2ï¸âƒ£ Inserta 3 empleados diferentes usando el formulario</li>
                            <li>3ï¸âƒ£ Intenta insertar un ID duplicado para ver el error</li>
                        </ul>
                    </div>
                </section>

                <section id="mostrardatos" class="help-section">
                    <h2>VisualizaciÃ³n de Datos en Tablas ğŸ“Š</h2>
                    
                    <div class="info-block help-block">
                        <h3>Â¿CÃ³mo ver mis datos? ğŸ”</h3>
                        <p>La pestaÃ±a "Datos" te permite:</p>
                        <ul>
                            <li>Ver todos los registros de tus tablas</li>
                            <li>Filtrar informaciÃ³n especÃ­fica</li>
                            <li>Ordenar datos por columnas</li>
                            <li>Exportar datos seleccionados</li>
                        </ul>
                    </div>

                    <div class="case-block help-block">
                        <h4>Panel de Control de Datos ğŸ›ï¸</h4>
                        <p>En la parte superior encontrarÃ¡s:</p>
                        <ul>
                            <li>ğŸ“‹ Selector de tabla: Elige quÃ© tabla quieres ver</li>
                            <li>ğŸ” Filtros: Reduce los datos mostrados segÃºn criterios</li>
                            <li>â¬†ï¸ OrdenaciÃ³n: Organiza los datos ascendente/descendente</li>
                            <li>ğŸ’¾ ExportaciÃ³n: Guarda los datos filtrados</li>
                        </ul>
                    </div>

                    <div class="tip-block help-block">
                        <h4>Consejos para el Filtrado Efectivo ğŸ’¡</h4>
                        <ul>
                            <li>ğŸ¯ Usa mÃºltiples filtros para bÃºsquedas precisas</li>
                            <li>ğŸ“Š Combina filtros numÃ©ricos y de texto</li>
                            <li>ğŸ“… Filtra por rangos de fechas</li>
                            <li>ğŸ”„ Puedes resetear los filtros en cualquier momento</li>
                        </ul>
                    </div>

                    <div class="example-block help-block">
                        <h4>Ejemplo PrÃ¡ctico: Filtrado de Ventas</h4>
                        <p>Para encontrar ventas especÃ­ficas:</p>
                        <ol>
                            <li>1ï¸âƒ£ Selecciona la tabla "Ventas"</li>
                            <li>2ï¸âƒ£ Filtra por fecha > "01/01/2024"</li>
                            <li>3ï¸âƒ£ Filtra por monto > 1000â‚¬</li>
                            <li>4ï¸âƒ£ Ordena por fecha descendente</li>
                        </ol>
                    </div>

                    <div class="warning-block help-block">
                        <h4>âš ï¸ Importante</h4>
                        <p>Ten en cuenta que:</p>
                        <ul>
                            <li>Los filtros son acumulativos</li>
                            <li>Puedes exportar solo los datos filtrados</li>
                            <li>El rendimiento depende del volumen de datos</li>
                        </ul>
                    </div>

                    <div class="next-block help-block">
                        <h4>Ejercicio PrÃ¡ctico ğŸ‘£</h4>
                        <p>Practica con estos pasos:</p>
                        <ul>
                            <li>1ï¸âƒ£ Carga la tabla de ejemplo "Empleados"</li>
                            <li>2ï¸âƒ£ Filtra empleados con salario > 30000</li>
                            <li>3ï¸âƒ£ Ordena por antigÃ¼edad</li>
                            <li>4ï¸âƒ£ Exporta los resultados filtrados</li>
                        </ul>
                    </div>
                </section>

                <section id="mostrargraficos" class="help-section">
                    <h2>GrÃ¡ficos y EstadÃ­sticas ğŸ“Š</h2>
                    
                    <div class="info-block help-block">
                        <h3>Â¿QuÃ© son los grÃ¡ficos en easySQL? ğŸ“ˆ</h3>
                        <p>Los grÃ¡ficos son representaciones visuales de tus datos que te permiten:</p>
                        <ul>
                            <li>ğŸ¯ Identificar tendencias rÃ¡pidamente</li>
                            <li>ğŸ“Š Comparar datos de forma visual</li>
                            <li>ğŸ“ˆ Presentar informaciÃ³n de manera profesional</li>
                            <li>ğŸ” Analizar patrones en tus datos</li>
                        </ul>
                    </div>

                    <div class="tip-block help-block">
                        <h4>Tipos de GrÃ¡ficos Disponibles ğŸ¨</h4>
                        <ul>
                            <li>â­• <strong>Circular:</strong> Ideal para porcentajes y proporciones
                                <ul>
                                    <li>Perfecto para categorÃ­as</li>
                                    <li>Muestra distribuciÃ³n de datos</li>
                                </ul>
                            </li>
                            <li>ğŸŒ— <strong>SemicÃ­rculo:</strong> Similar al circular, pero mÃ¡s compacto
                                <ul>
                                    <li>Excelente para dashboards</li>
                                    <li>Ahorra espacio en pantalla</li>
                                </ul>
                            </li>
                            <li>ğŸ“Š <strong>Barras:</strong> Perfecto para comparaciones
                                <ul>
                                    <li>Compara cantidades fÃ¡cilmente</li>
                                    <li>Visualiza rankings y mÃ©tricas</li>
                                </ul>
                            </li>
                            <li>ğŸ“ˆ <strong>LÃ­neas:</strong> Ideal para tendencias temporales
                                <ul>
                                    <li>Muestra evoluciÃ³n en el tiempo</li>
                                    <li>Identifica patrones y ciclos</li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="example-block help-block">
                        <h4>CÃ³mo Crear un GrÃ¡fico ğŸ› ï¸</h4>
                        <ol>
                            <li>1ï¸âƒ£ Selecciona una tabla (ej: "Ventas")</li>
                            <li>2ï¸âƒ£ Elige una columna (ej: "Monto")</li>
                            <li>3ï¸âƒ£ Escoge el tipo de grÃ¡fico</li>
                            <li>4ï¸âƒ£ Â¡Listo! Tu grÃ¡fico se genera automÃ¡ticamente</li>
                        </ol>
                    </div>

                    <div class="benefits-block help-block">
                        <h4>Ventajas de los GrÃ¡ficos ğŸŒŸ</h4>
                        <ul>
                            <li>âš¡ VisualizaciÃ³n instantÃ¡nea de datos</li>
                            <li>ğŸ¨ PersonalizaciÃ³n de colores y estilos</li>
                            <li>ğŸ’¾ ExportaciÃ³n para presentaciones</li>
                            <li>ğŸ”„ ActualizaciÃ³n en tiempo real</li>
                            <li>ğŸ“± Responsive en todos los dispositivos</li>
                        </ul>
                    </div>

                    <div class="case-block help-block">
                        <h4>Caso de Uso: AnÃ¡lisis de Ventas ğŸ’°</h4>
                        <p>Una empresa utilizÃ³ los grÃ¡ficos para:</p>
                        <ul>
                            <li>ğŸ“Š Circular: Ver distribuciÃ³n de ventas por producto</li>
                            <li>ğŸ“ˆ LÃ­neas: Analizar tendencias mensuales</li>
                            <li>ğŸ“Š Barras: Comparar rendimiento de vendedores</li>
                            <li>ğŸŒ— SemicÃ­rculo: Mostrar objetivos cumplidos</li>
                        </ul>
                        <p>Resultado: Identificaron productos estrella y optimizaron inventario</p>
                    </div>

                    <div class="next-block help-block">
                        <h4>Ejercicio PrÃ¡ctico ğŸ‘£</h4>
                        <p>Practica creando estos grÃ¡ficos:</p>
                        <ul>
                            <li>1ï¸âƒ£ GrÃ¡fico circular de categorÃ­as de productos</li>
                            <li>2ï¸âƒ£ GrÃ¡fico de barras de ventas por regiÃ³n</li>
                            <li>3ï¸âƒ£ GrÃ¡fico de lÃ­neas de ventas mensuales</li>
                        </ul>
                    </div>
                </section>

                <section id="mostrarMapas" class="help-section">
                    <h2>Mapas Interactivos ğŸ—ºï¸</h2>
                    
                    <div class="info-block help-block">
                        <h3>Â¿QuÃ© puedo hacer con los mapas? ğŸŒ</h3>
                        <p>La pestaÃ±a "Mapa" te permite:</p>
                        <ul>
                            <li>ğŸ¯ Visualizar datos geogrÃ¡ficos</li>
                            <li>ğŸ” Explorar diferentes regiones</li>
                            <li>ğŸ¨ Ver distribuciones por colores</li>
                            <li>ğŸ“Š Analizar datos por zonas</li>
                        </ul>
                    </div>

                    <div class="tip-block help-block">
                        <h4>Ubicaciones Predefinidas Disponibles ğŸ“</h4>
                        <ul>
                            <li>ğŸŒ <strong>PaÃ­ses del mundo</strong>: VisualizaciÃ³n global</li>
                            <li>ğŸ‡ªğŸ‡¸ <strong>Comunidades AutÃ³nomas</strong>: DivisiÃ³n territorial espaÃ±ola</li>
                            <li>ğŸ“ <strong>Provincias espaÃ±olas</strong>: Nivel provincial</li>
                            <li>ğŸ‡ºğŸ‡¸ <strong>Estados de EEUU</strong>: DivisiÃ³n estadounidense</li>
                        </ul>
                    </div>

                    <div class="example-block help-block">
                        <h4>CÃ³mo Usar el Mapa ğŸ¯</h4>
                        <ol>
                            <li>1ï¸âƒ£ Selecciona una tabla con datos geogrÃ¡ficos</li>
                            <li>2ï¸âƒ£ Elige la columna que contiene las ubicaciones</li>
                            <li>3ï¸âƒ£ El mapa se actualizarÃ¡ automÃ¡ticamente</li>
                            <li>4ï¸âƒ£ Usa el zoom para explorar diferentes niveles</li>
                        </ol>
                    </div>

                    <div class="features-block help-block">
                        <h4>CaracterÃ­sticas del Mapa ğŸ› ï¸</h4>
                        <ul>
                            <li>ğŸ”„ <strong>Interactividad</strong>: Zoom y desplazamiento</li>
                            <li>ğŸ¨ <strong>Leyenda de colores</strong>: Intensidad por valores</li>
                            <li>ğŸ’¡ <strong>Tooltips</strong>: InformaciÃ³n al pasar el mouse</li>
                            <li>ğŸ“± <strong>Responsive</strong>: Adaptable a cualquier pantalla</li>
                        </ul>
                    </div>

                    <div class="case-block help-block">
                        <h4>Ejemplo PrÃ¡ctico: AnÃ¡lisis de Ventas por RegiÃ³n ğŸ“Š</h4>
                        <p>Una empresa analiza sus ventas:</p>
                        <ol>
                            <li>1ï¸âƒ£ Tabla: "Ventas"</li>
                            <li>2ï¸âƒ£ Columna: "Comunidad_Autonoma"</li>
                            <li>3ï¸âƒ£ Resultado: Mapa con colores segÃºn volumen de ventas</li>
                            <li>4ï¸âƒ£ AnÃ¡lisis: IdentificaciÃ³n de zonas mÃ¡s activas</li>
                        </ol>
                    </div>

                    <div class="warning-block help-block">
                        <h4>âš ï¸ Consideraciones Importantes</h4>
                        <ul>
                            <li>Usa los enums predefinidos para ubicaciones</li>
                            <li>Los datos deben coincidir exactamente con los nombres oficiales</li>
                            <li>La intensidad del color refleja la cantidad de registros</li>
                        </ul>
                    </div>

                    <div class="next-block help-block">
                        <h4>Ejercicio PrÃ¡ctico ğŸ‘£</h4>
                        <p>Practica con estos pasos:</p>
                        <ul>
                            <li>1ï¸âƒ£ Crea una tabla "Clientes" con columna "Provincia"</li>
                            <li>2ï¸âƒ£ Inserta datos usando el enum de provincias</li>
                            <li>3ï¸âƒ£ Visualiza la distribuciÃ³n en el mapa</li>
                            <li>4ï¸âƒ£ Explora diferentes niveles de zoom</li>
                        </ul>
                    </div>
                </section>

                <section id="excelimport" class="help-section">
                    <div class="section-header">
                        <h2>ImportaciÃ³n Excel y GestiÃ³n Masiva de Datos ğŸ“Š</h2>
                    </div>
                    
                    <div class="info-block help-block">
                        <h3>Â¿QuÃ© es Excel Import? ğŸ”„</h3>
                        <p>Excel Import es una herramienta potente que te permite:</p>
                        <ul>
                            <li>ğŸ“¥ Importar datos masivamente desde Excel</li>
                            <li>ğŸ“ Editar mÃºltiples registros simultÃ¡neamente</li>
                            <li>ğŸ” Validar datos en tiempo real</li>
                            <li>ğŸ“‹ Copiar y pegar datos desde hojas de cÃ¡lculo</li>
                            <li>âš¡ Actualizar registros existentes</li>
                        </ul>
                    </div>

                    <div class="features-block help-block">
                        <h4>CaracterÃ­sticas Principales ğŸŒŸ</h4>
                        <ul>
                            <li>ğŸ”„ <strong>ValidaciÃ³n en tiempo real:</strong> 
                                <ul>
                                    <li>Verifica tipos de datos automÃ¡ticamente</li>
                                    <li>Resalta errores y advertencias</li>
                                    <li>Sugiere correcciones</li>
                                </ul>
                            </li>
                            <li>ğŸ“‹ <strong>Operaciones con el portapapeles:</strong>
                                <ul>
                                    <li>Pega datos desde Excel manteniendo el formato</li>
                                    <li>Copia mÃºltiples celdas</li>
                                    <li>SelecciÃ³n mÃºltiple de celdas</li>
                                </ul>
                            </li>
                            <li>âŒ¨ï¸ <strong>Atajos de teclado:</strong>
                                <ul>
                                    <li>NavegaciÃ³n con flechas entre celdas</li>
                                    <li>Borrado rÃ¡pido con Delete/Backspace</li>
                                    <li>SelecciÃ³n mÃºltiple con ratÃ³n</li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="usage-block help-block">
                        <h4>CÃ³mo Usar Excel Import ğŸ“</h4>
                        
                        <div class="step-block">
                            <h5>1. PreparaciÃ³n</h5>
                            <ul>
                                <li>Selecciona la tabla destino</li>
                                <li>Define el nÃºmero de filas (10-1000)</li>
                                <li>La cuadrÃ­cula se genera automÃ¡ticamente</li>
                            </ul>
                        </div>

                        <div class="step-block">
                            <h5>2. ImportaciÃ³n de Datos</h5>
                            <ul>
                                <li>Copia datos desde Excel</li>
                                <li>Pega directamente en la cuadrÃ­cula</li>
                                <li>Los datos se validan automÃ¡ticamente</li>
                            </ul>
                        </div>

                        <div class="step-block">
                            <h5>3. ValidaciÃ³n y CorrecciÃ³n</h5>
                            <ul>
                                <li>ğŸŸ¢ Verde: Dato vÃ¡lido</li>
                                <li>ğŸŸ¡ Amarillo: Advertencia (requiere atenciÃ³n)</li>
                                <li>ğŸ”´ Rojo: Error (debe corregirse)</li>
                                <li>ğŸ”µ Azul: Valor nulo permitido</li>
                            </ul>
                        </div>
                    </div>

                    <div class="tips-block help-block">
                        <h4>Consejos y Trucos ğŸ’¡</h4>
                        <ul>
                            <li>âœ¨ <strong>SelecciÃ³n mÃºltiple:</strong> Arrastra el ratÃ³n para seleccionar varias celdas</li>
                            <li>ğŸ”„ <strong>ActualizaciÃ³n masiva:</strong> Pega valores en mÃºltiples celdas seleccionadas</li>
                            <li>âŒ¨ï¸ <strong>NavegaciÃ³n rÃ¡pida:</strong> Usa las flechas del teclado</li>
                            <li>âŒ <strong>Borrado rÃ¡pido:</strong> Selecciona mÃºltiples celdas y presiona Delete</li>
                            <li>ğŸ“ <strong>EdiciÃ³n inline:</strong> Doble clic para editar una celda</li>
                        </ul>
                    </div>

                    <div class="validation-block help-block">
                        <h4>Sistema de ValidaciÃ³n ğŸ”</h4>
                        <ul>
                            <li>ğŸ”¢ <strong>NÃºmeros (INT/FLOAT):</strong>
                                <ul>
                                    <li>Verifica formato numÃ©rico</li>
                                    <li>Acepta decimales para FLOAT</li>
                                    <li>Convierte automÃ¡ticamente comas a puntos</li>
                                </ul>
                            </li>
                            <li>ğŸ“… <strong>Fechas (DATE):</strong>
                                <ul>
                                    <li>Formato: dd/mm/yyyy o dd-mm-yyyy</li>
                                    <li>Valida dÃ­as y meses correctos</li>
                                    <li>Considera aÃ±os bisiestos</li>
                                </ul>
                            </li>
                            <li>âœ… <strong>Booleanos (BOOLEAN):</strong>
                                <ul>
                                    <li>true/1/s/si/cierto</li>
                                    <li>false/0/n/no/falso</li>
                                    <li>Normaliza automÃ¡ticamente</li>
                                </ul>
                            </li>
                            <li>ğŸ“ <strong>ENUMs:</strong>
                                <ul>
                                    <li>Valores predefinidos</li>
                                    <li>Sugerencias al hacer clic derecho</li>
                                    <li>Autocompletado inteligente</li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="advanced-block help-block">
                        <h4>Funciones Avanzadas ğŸš€</h4>
                        <ul>
                            <li>ğŸ”„ <strong>ActualizaciÃ³n de registros existentes:</strong>
                                <ul>
                                    <li>Detecta cambios automÃ¡ticamente</li>
                                    <li>Actualiza solo campos modificados</li>
                                    <li>Mantiene integridad de datos</li>
                                </ul>
                            </li>
                            <li>ğŸ“Š <strong>GestiÃ³n de claves primarias:</strong>
                                <ul>
                                    <li>ValidaciÃ³n automÃ¡tica de duplicados</li>
                                    <li>PrevenciÃ³n de conflictos</li>
                                    <li>IdentificaciÃ³n visual de PKs</li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="example-block help-block">
                        <h4>Ejemplo PrÃ¡ctico: Importar Productos</h4>
                        <ol>
                            <li>1ï¸âƒ£ Selecciona tabla "Productos"</li>
                            <li>2ï¸âƒ£ Establece 50 filas</li>
                            <li>3ï¸âƒ£ Copia datos desde Excel</li>
                            <li>4ï¸âƒ£ Pega en la cuadrÃ­cula</li>
                            <li>5ï¸âƒ£ Verifica las validaciones</li>
                            <li>6ï¸âƒ£ Corrige errores si los hay</li>
                            <li>7ï¸âƒ£ Guarda los cambios</li>
                        </ol>
                    </div>

                    <div class="troubleshooting-block help-block">
                        <h4>SoluciÃ³n de Problemas âš ï¸</h4>
                        <ul>
                            <li>âŒ <strong>Datos no se pegan:</strong> Verifica formato del portapapeles</li>
                            <li>âš ï¸ <strong>Validaciones en rojo:</strong> Revisa el tipo de dato esperado</li>
                            <li>ğŸ”„ <strong>Actualizaciones no se aplican:</strong> Verifica la clave primaria</li>
                            <li>ğŸ“Š <strong>Formato incorrecto:</strong> Asegura compatibilidad de tipos</li>
                        </ul>
                    </div>
                </section>

                <section id="enumerados" class="help-section">
                    <h2>Trabajando con Enumerados (ENUM)</h2>

                    <div class="info-block help-block">
                        <h3>Â¿QuÃ© es un ENUM? ğŸ¯</h3>
                        <p>Un ENUM es como una lista cerrada de opciones vÃ¡lidas. Por ejemplo:</p>
                        <ul>
                            <li>Tallas de ropa: [XS, S, M, L, XL]</li>
                            <li>Estados de pedido: [Pendiente, Enviado, Entregado, Cancelado]</li>
                            <li>DÃ­as de la semana: [Lunes, Martes, MiÃ©rcoles...]</li>
                        </ul>
                    </div>

                    <div class="benefits-block help-block">
                        <h4>Ventajas de usar ENUM âœ¨</h4>
                        <ul>
                            <li>âœ… Evita errores de escritura</li>
                            <li>âœ… Solo permite valores vÃ¡lidos</li>
                            <li>âœ… MÃ¡s fÃ¡cil de mantener</li>
                            <li>âœ… Mejor organizaciÃ³n de datos</li>
                        </ul>
                    </div>

                    <div class="warning-block help-block">
                        <h4>âš ï¸ Â¡Cuidado al Editar!</h4>
                        <p>Modificar un ENUM existente puede ser peligroso porque:</p>
                        <ul>
                            <li>âŒ PodrÃ­as invalidar datos existentes</li>
                            <li>âŒ Afecta a todas las tablas que lo usan</li>
                            <li>âŒ Los cambios son permanentes</li>
                        </ul>
                    </div>

                    <div class="predefined-block help-block">
                        <h4>ENUMs Predefinidos en easySQL ğŸ“š</h4>
                        <p>easySQL incluye algunos ENUMs listos para usar:</p>
                        <ul>
                            <li><strong>EstadoPedido</strong>: Pendiente, En Proceso, Enviado, Entregado, Cancelado</li>
                            <li><strong>Prioridad</strong>: Baja, Media, Alta, Urgente</li>
                            <li><strong>TipoDocumento</strong>: DNI, NIE, Pasaporte</li>
                        </ul>
                        <p>Para usarlos, simplemente selecciÃ³nalos al crear una columna.</p>
                    </div>

                    <div class="exercise-block help-block">
                        <h5>Ejercicio 1: Crear un ENUM de CategorÃ­as ğŸ·ï¸</h5>
                        <ol>
                            <li>Haz clic en "Crear Enum" en easySQL</li>
                            <li>Nombre del ENUM: "Categoria"</li>
                            <li>AÃ±ade estos valores:
                                <ul>
                                    <li>ElectrÃ³nica</li>
                                    <li>Ropa</li>
                                    <li>Alimentos</li>
                                    <li>Hogar</li>
                                </ul>
                            </li>
                        </ol>
                    </div>

                    <div class="exercise-block help-block">
                        <h5>Ejercicio 2: Usar el ENUM creado ğŸ› ï¸</h5>
                        <ol>
                            <li>Crea una nueva tabla llamada "Productos"</li>
                            <li>AÃ±ade una columna "categoria" de tipo "Categoria" (el ENUM que creaste)</li>
                            <li>Intenta aÃ±adir un valor que no estÃ© en la lista para ver cÃ³mo easySQL lo impide</li>
                        </ol>
                    </div>
                </section>
            </div>
        </div>
    </div>
    <div class="background-circles"></div>
    <div class="title-container">
        <div class="bg-shapes">
            <div class="shape"></div>
            <div class="shape"></div>
            <div class="shape"></div>
            <div class="shape"></div>
        </div>
        <h1 id="titulin">easySQL</h1>
    </div>
    <!-- MenÃº de pestaÃ±as -->
    <div class="tab-menu">
        <button class="tab-button active" onclick="showTab('esquema')">Esquema</button>
        <button class="tab-button" onclick="showTab('inserciones')">Inserciones</button>
        <button class="tab-button" onclick="showTab('datos')">Datos</button>
        <button class="tab-button" onclick="showTab('consultas')">Consultas</button>
        <button class="tab-button" onclick="showTab('mapa')">Mapa</button>
        <button class="tab-button" onclick="showTab('graficos')">GrÃ¡ficos</button>
        <button class="tab-button" onclick="showTab('excelImport')">Excel Import</button>
    </div>
    <!-- PestaÃ±a Esquema -->
    <div id="esquema" class="tab-content active">
        <div id="buttons-container">
            <button onclick="openCreateTableModal()">Crear Tabla</button>
            <select id="tableDropdown"></select>
            <button onclick="editTable()">Editar/Borrar Tabla</button>
            <button onclick="openCreateEnumModal()">Crear Enum</button>
            <select id="enumDropdown"></select>
            <button onclick="openDeleteEnumModal(document.getElementById('enumDropdown').value)">Borrar Enum</button>
            <button onclick="openEditEnumModal()">Editar Enum</button>
            <button onclick="openRelationshipModal()">Gestionar Relaciones</button>
            <button onclick="downloadSQL()">Descargar SQL</button>
            <button onclick="document.getElementById('sqlFileInput').click()">Cargar SQL</button>
            <input type="file" id="sqlFileInput" style="display: none" accept=".sql" onchange="loadSQL(event)">
        </div>
        <h2 id="mapita">Mapa de Clases</h2>
        <div class="schema-layout">
            <div id="network"></div>
            <div class="predefined-enums-container">
                <h3>Enums Predefinidos</h3>
                <div id="predefinedEnumsList"></div>
            </div>
        </div>
    </div>
    <!-- PestaÃ±a Inserciones -->
    <div id="inserciones" class="tab-content">
        <!-- El contenido se generarÃ¡ dinÃ¡micamente -->
    </div>
    <!-- PestaÃ±a Datos -->
    <div id="datos" class="tab-content">
        <h2>Datos Insertados</h2>
        <div class="data-actions">
            <button onclick="downloadInsertions()">Descargar Inserciones</button>
            <button onclick="document.getElementById('insertionsFileInput').click()">Cargar Inserciones</button>
            <input type="file" id="insertionsFileInput" style="display: none" accept=".sql" onchange="loadInsertions(event)">
        </div>
        <div id="data-container"></div>
    </div>
    <!-- PestaÃ±a Consultas -->
    <div id="consultas" class="tab-content">
        <h2>Consultas SQL</h2>
        <textarea id="sql-input" placeholder="Escribe tu consulta SQL aquÃ­ (ej. INSERT, SELECT...)"></textarea>
        <button onclick="executeSQL()">Ejecutar SQL</button>
        <div id="result"></div>
    </div>
    <!-- PestaÃ±a Mapa -->
    <div id="mapa" class="tab-content">
        <div class="map-controls">
            <select id="mapaTableSelect">
                <option value="">Selecciona una tabla</option>
            </select>
            <select id="mapaColumnSelect" disabled>
                <option value="">Selecciona una columna</option>
            </select>
            <button onclick="actualizarMapa()">Actualizar Mapa</button>
        </div>
        <div id="mapaContainer" style="height: calc(100vh - 250px);"></div>
    </div>
    <!-- PestaÃ±a GrÃ¡ficos -->
    <div id="graficos" class="tab-content">
        <div class="graficos-selectors">
            <select id="graficoTableSelect">
                <option value="">Selecciona una tabla</option>
            </select>
            <select id="graficoColumnSelect" disabled>
                <option value="">Selecciona una columna</option>
            </select>
            <select id="graficoTipoSelect">
                <option value="">Selecciona un tipo de grÃ¡fico</option>
                <option value="pie">Circular</option>
                <option value="semicircle">SemicÃ­rculo</option>
                <option value="column">Barras</option>
                <option value="line">LÃ­neas</option>
            </select>
            <button onclick="generarGrafico()">Generar GrÃ¡fico</button>
        </div>
        <div id="graficos-container">
            <!-- AquÃ­ se insertarÃ¡n los grÃ¡ficos dinÃ¡micamente -->
        </div>
    </div>
    <!-- Nueva pestaÃ±a Excel Import -->
    <div id="excelImport" class="tab-content">
        <div class="excel-import-controls">
            <select id="excelTableSelect" onchange="setupExcelGrid()">
                <option value="">Selecciona una tabla</option>
            </select>
            <input type="number" id="rowCount" min="10" max="1000" value="100" 
                title="NÃºmero de filas (10-1000)"
                style="width: 100px;"
                onchange="setupExcelGrid()">
            <button onclick="validateAndImportData()">Guardar Datos</button>
            <button onclick="loadExistingData()">Modificar Datos Ya Insertados</button>
            <button onclick="clearGrid()">Limpiar Todo</button>
        </div>
        <div id="excelGrid" class="excel-grid"></div>
    </div>
    <!-- Modal para crear tabla -->
    <div id="createTableModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeCreateTableModal()">Ã—</span>
            <h2>Crear Nueva Tabla</h2>
            <label for="tableName">Nombre de la tabla:</label>
            <input type="text" id="tableName" class="table-name-input" placeholder="ej. estudiantes"><br><br>
            <h3>Elementos (Columnas)</h3>
            <div id="columnsContainer"></div>
            <button onclick="addColumnInput()">AÃ±adir Elemento</button><br><br>
            <button onclick="createTableFromForm()">Crear Tabla</button>
        </div>
    </div>
    <!-- Modal para editar tabla -->
    <div id="editTableModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeEditTableModal()">Ã—</span>
            <h2>Editar Tabla</h2>
            <h3>Elementos (Columnas)</h3>
            <div id="editColumnsContainer"></div>
            <button onclick="addColumnInputEdit()">AÃ±adir Elemento</button><br><br>
            <button onclick="saveTableChanges()">Guardar Cambios</button>
            <button onclick="deleteTableFromModal()">Borrar Tabla</button>
        </div>
    </div>
    <!-- Modal para crear enum -->
    <div id="createEnumModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeCreateEnumModal()">Ã—</span>
            <h2>Crear Nuevo Enum</h2>
            <label for="enumName">Nombre del Enum:</label>
            <input type="text" id="enumName" class="table-name-input" placeholder="ej. calidadTV"><br><br>
            <h3>Valores</h3>
            <div id="enumValuesContainer"></div>
            <button onclick="addEnumValueInputCreate()">AÃ±adir Valor</button><br><br>
            <button onclick="createEnumFromForm()">Crear Enum</button>
        </div>
    </div>
    <!-- Modal para editar enums -->
    <div id="editEnumModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeEditEnumModal()">Ã—</span>
            <h2>Editar Enum</h2>
            <label for="editEnumName">Nombre del Enum:</label>
            <input type="text" id="editEnumName" class="table-name-input" readonly><br><br>
            <h3>Valores</h3>
            <div id="editEnumValuesContainer"></div>
            <button onclick="addEnumValueInput()">AÃ±adir Valor</button><br><br>
            <button onclick="saveEnumChanges()">Guardar Cambios</button>
        </div>
    </div>
    <!-- Modal para relaciones -->
    <div id="relationshipModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeRelationshipModal()">Ã—</span>
            <h2>Crear RelaciÃ³n</h2>
            <label for="relationshipName">Nombre de la RelaciÃ³n:</label>
            <input type="text" id="relationshipName" placeholder="ej. RelaciÃ³n1"><br><br>
            <label for="relationshipTable1">Tabla 1:</label>
            <select id="relationshipTable1"></select><br><br>
            <label for="relationshipTable2">Tabla 2:</label>
            <select id="relationshipTable2"></select><br><br>
            <label for="relationshipType">Tipo:</label>
            <select id="relationshipType">
                <option value="1:1">1:1</option>
                <option value="n:1">n:1</option>
                <option value="1:n">1:n</option>
                <option value="n:n">n:n</option>
            </select><br><br>
            <label for="relationshipDirection">DirecciÃ³n:</label>
            <select id="relationshipDirection">
                <option value="bidirectional">Bidireccional</option>
                <option value="forward">Hacia adelante</option>
                <option value="backward">Hacia atrÃ¡s</option>
            </select><br><br>
            <button onclick="saveRelationship()">Guardar RelaciÃ³n</button>
        </div>
    </div>
    <!-- Scripts -->
    <script src="scripts/notifications.js"></script>
    <script src="scripts/main.js"></script>
    <script src="scripts/createTable.js"></script>
    <script src="scripts/editTable.js"></script>
    <script src="scripts/deleteTable.js"></script>
    <script src="scripts/editEnum.js"></script>
    <script src="scripts/createEnum.js"></script>
    <script src="scripts/insertions.js"></script>
    <script src="scripts/tabs.js"></script>
    <script src="scripts/dataView.js"></script>
    <script src="scripts/mapa.js"></script>
    <script src="scripts/graficos.js"></script>
    <script src="scripts/animations.js"></script>
    <script src="scripts/auth.js"></script>
    <script src="scripts/excelImport.js"></script>
    <script src="scripts/predefinedEnums.js"></script>
    <script src="scripts/mapCoordinates.js"></script>
    <script src="scripts/colorTheme.js"></script>
    <script src="scripts/help.js"></script>
    <script>
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                document.querySelector('.background-circles').innerHTML = '';
            }
        });
    </script>
</body>
</html>

